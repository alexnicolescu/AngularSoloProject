<form *ngIf="creatingUser"
      class="example-form"
      (ngSubmit)="onSubmit()"
      #userForm="ngForm">
  <mat-card>
    <mat-card-content>
      <h3><i class="material-icons">
        verified_user
      </i>Add User</h3>
      <table class="example-full-width" cellspacing="0" >
        <tr>
          <td>
            <input matInput
                   required
                   class="example-full-width"
                   placeholder="Username"
                   [(ngModel)]="user.username"
                   name="username"
                   #username="ngModel">
            <mat-hint
              *ngIf="!username.pristine && username.errors && username.errors.required"
              [ngStyle]="{'color':'red'}"
              align="start">
              Username required
            </mat-hint>
          </td>
          <td>
            <input matInput
                   required
                   pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                   class="example-full-width"
                   placeholder="Email"
                   [(ngModel)]="user.email"
                   name="email"
                   #email="ngModel"
                   id="email">
            <mat-hint
              *ngIf="!email.pristine && email.errors && email.errors.required"
              [ngStyle]="{'color':'red'}"
              align="start">
              Email required
            </mat-hint>
            <mat-hint
              *ngIf="!email.pristine && email.errors && email.errors.pattern"
              [ngStyle]="{'color':'red'}"
              align="start">
              Email invalid
            </mat-hint>
          </td>
          <button type="submit"
                  mat-icon-button
                  color="primary"
                  [disabled]="!userForm.form.valid">
            <i class="material-icons">
              save
            </i>
          </button>
          <button type="button"
                  mat-icon-button
                  color="warn"
                  (click)="creatingNewUser(false)">
            <i class="material-icons">
              cancel
            </i>
          </button>
        </tr>
      </table>
    </mat-card-content>
  </mat-card>
</form>
<div *ngIf="!creatingUser">
  <button  mat-icon-button [color]="'primary'" (click)="creatingNewUser(true)">
    <i class="material-icons">
      add
    </i>
  </button>
</div>
